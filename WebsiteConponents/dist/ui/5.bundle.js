(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{49:function(e,t,n){"use strict";var a=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==a)return a;throw new Error("unable to locate global object")}();e.exports=t=a.fetch,a.fetch&&(t.default=a.fetch.bind(a)),t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response},95:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(module){var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),carbon_components_react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(98),carbon_components_react__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(99),carbon_components_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(100),_carbon_icons_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(41),enterModule;function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct();return function(){var n,a=_getPrototypeOf(e);if(t){var r=_getPrototypeOf(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return _possibleConstructorReturn(this,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}enterModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0,enterModule&&enterModule(module);var __signature__="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},fetch=__webpack_require__(49),ScrollArea=__webpack_require__(54),Player=function(_React$Component){_inherits(Player,_React$Component);var _super=_createSuper(Player);function Player(e){var t;return _classCallCheck(this,Player),_defineProperty(_assertThisInitialized(t=_super.call(this,e)),"getmessages",(function(){return new Promise((function(e,n){fetch(t.state.chatLink).then((function(t){e(t.json())})).catch((function(e){return n(e)}))}))})),_defineProperty(_assertThisInitialized(t),"fetchData",(function(){t.getmessages().then((function(e){t.setState({messagesList:e})}))})),_defineProperty(_assertThisInitialized(t),"handleWindowSizeChange",(function(){t.setState({width:window.innerWidth}),t.setState({width:window.innerHeight});var e=t.formElement.clientHeight;t.setState({formHeight:e})})),_defineProperty(_assertThisInitialized(t),"submitMessage",(function(e){e.preventDefault(),fetch(t.state.chatLink+"?message="+t.state.inputValue).then(t.setState({inputValue:""})),t.fetchData()})),_defineProperty(_assertThisInitialized(t),"deleteMessage",(function(e){confirm("Are you sure you want to delete this message? It cannot be undone")&&fetch(t.state.chatLink+"?delete="+e.toString()),t.fetchData()})),_defineProperty(_assertThisInitialized(t),"render",(function(){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{backgroundClip:"padding-box",backgroundColor:"#FFFFFF",height:t.state.height,paddingLeft:"20px"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h1",null,"Chat dashboard"),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("h5",null,"Send messages at the bottom of the page, to delete a message, click on any message and it will delete the message."),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{style:{overflowY:"scroll",height:t.state.height-t.state.formHeight-50}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("ul",null,t.state.messagesList.map((function(e,n){return react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("li",{key:n,style:{padding:"5px"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("button",{onClick:function(){return t.deleteMessage(n)},style:{width:"100%",backgroundColor:"#f4f4f4",padding:"10px",border:"none",TextAlign:"left"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{style:{fontFamily:"Candara",fontWeight:"normal",fontSize:"1vw",color:"#808080",paddingBottom:"0px",height:"1.5vw"}},e.date),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("p",{style:{fontFamily:"Candara",fontWeight:"normal",fontSize:"1vw",color:"#000000",paddingTop:"0px",height:"1.5vw"}},e.content)))})))),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("br",null),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("div",{className:"test",ref:function(e){t.formElement=e}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(carbon_components_react__WEBPACK_IMPORTED_MODULE_1__.a,{onSubmit:t.submitMessage,style:{alignContent:"center",width:"100%",paddingBottom:"0px",verticalAlign:"bottom",height:"0"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement("td",{style:{width:"100%",display:"inline-flex"}},react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(carbon_components_react__WEBPACK_IMPORTED_MODULE_2__.a,{id:"Message_Box",placeholder:"Message",style:{fontFamily:"Candara",fontWeight:"normal",fontSize:"1.5vw"},onChange:function(e){return t.updateInputValue(e)},value:t.state.inputValue}),react__WEBPACK_IMPORTED_MODULE_0___default.a.createElement(carbon_components_react__WEBPACK_IMPORTED_MODULE_3__.a,{style:{backgroundColor:"#005eb8",fontSize:"1.5vw"},hasIconOnly:!0,renderIcon:_carbon_icons_react__WEBPACK_IMPORTED_MODULE_4__.bc,tooltipAlignment:"center",tooltipPosition:"bottom",iconDescription:"Send Message",size:"field",type:"submit"}))))))})),t.state={messagesList:[],playerHeight:0,formHeight:0,width:window.innerWidth,height:window.innerHeight,inputValue:"",chatLink:e.chatLink},t}return _createClass(Player,[{key:"componentDidMount",value:function(){this.fetchData(),this.timer=setInterval(this.fetchData,2e3),this.timer=setInterval(this.updateCSS,20),window.addEventListener("resize",this.handleWindowSizeChange);var e=this.formElement.clientHeight;this.setState({formHeight:e})}},{key:"updateInputValue",value:function(e){this.setState({inputValue:e.target.value})}},{key:"componentWillUnmount",value:function(){clearInterval(this.timer),window.removeEventListener("resize",this.handleWindowSizeChange)}},{key:"__reactstandin__regenerateByEval",value:function __reactstandin__regenerateByEval(key,code){this[key]=eval(code)}}]),Player}(react__WEBPACK_IMPORTED_MODULE_0___default.a.Component),_default=Player,reactHotLoader,leaveModule;__webpack_exports__.default=_default,reactHotLoader="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0,reactHotLoader&&(reactHotLoader.register(Player,"Player","C:\\Users\\JoshuaSanderson\\Downloads\\DONT ASK\\WebsiteConponents\\src\\View\\DashboardChat.jsx"),reactHotLoader.register(_default,"default","C:\\Users\\JoshuaSanderson\\Downloads\\DONT ASK\\WebsiteConponents\\src\\View\\DashboardChat.jsx")),leaveModule="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0,leaveModule&&leaveModule(module)}.call(this,__webpack_require__(8)(module))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbm9kZS1mZXRjaC9icm93c2VyLmpzIiwid2VicGFjazovLy8uL3NyYy9WaWV3L0Rhc2hib2FyZENoYXQuanN4Il0sIm5hbWVzIjpbImdsb2JhbCIsInNlbGYiLCJ3aW5kb3ciLCJFcnJvciIsImdldEdsb2JhbCIsIm1vZHVsZSIsImV4cG9ydHMiLCJmZXRjaCIsImRlZmF1bHQiLCJiaW5kIiwiSGVhZGVycyIsIlJlcXVlc3QiLCJSZXNwb25zZSIsInJlcXVpcmUiLCJTY3JvbGxBcmVhIiwiUGxheWVyIiwicHJvcHMiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInN0YXRlIiwiY2hhdExpbmsiLCJ0aGVuIiwiciIsImpzb24iLCJlIiwiZ2V0bWVzc2FnZXMiLCJzZXRTdGF0ZSIsIm1lc3NhZ2VzTGlzdCIsIndpZHRoIiwiaW5uZXJXaWR0aCIsImlubmVySGVpZ2h0IiwiZm9ybUhlaWdodCIsImZvcm1FbGVtZW50IiwiY2xpZW50SGVpZ2h0IiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImlucHV0VmFsdWUiLCJmZXRjaERhdGEiLCJtZXNzYWdlTnVtYmVyIiwiY29uZmlybSIsInRvU3RyaW5nIiwic3R5bGUiLCJoZWlnaHQiLCJtYXAiLCJpdGVtIiwiaW5kZXgiLCJrZXkiLCJvbkNsaWNrIiwiZGVsZXRlTWVzc2FnZSIsImRhdGUiLCJjb250ZW50IiwiY2xhc3NOYW1lIiwicmVmIiwiZGl2RWxlbWVudCIsIm9uU3VibWl0Iiwic3VibWl0TWVzc2FnZSIsImlkIiwicGxhY2Vob2xkZXIiLCJvbkNoYW5nZSIsImV2dCIsInVwZGF0ZUlucHV0VmFsdWUiLCJ2YWx1ZSIsImhhc0ljb25Pbmx5IiwicmVuZGVySWNvbiIsIlNlbmQzMiIsInRvb2x0aXBBbGlnbm1lbnQiLCJ0b29sdGlwUG9zaXRpb24iLCJpY29uRGVzY3JpcHRpb24iLCJzaXplIiwidHlwZSIsInBsYXllckhlaWdodCIsInRoaXMiLCJ0aW1lciIsInNldEludGVydmFsIiwidXBkYXRlQ1NTIiwiYWRkRXZlbnRMaXN0ZW5lciIsImhhbmRsZVdpbmRvd1NpemVDaGFuZ2UiLCJ0YXJnZXQiLCJjbGVhckludGVydmFsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIlJlYWN0IiwiQ29tcG9uZW50Il0sIm1hcHBpbmdzIjoieUZBR0EsSUFVSUEsRUFWWSxXQUlmLEdBQW9CLG9CQUFUQyxLQUF3QixPQUFPQSxLQUMxQyxHQUFzQixvQkFBWEMsT0FBMEIsT0FBT0EsT0FDNUMsUUFBc0IsSUFBWEYsRUFBMEIsT0FBT0EsRUFDNUMsTUFBTSxJQUFJRyxNQUFNLGtDQUdKQyxHQUViQyxFQUFPQyxRQUFVQSxFQUFVTixFQUFPTyxNQUc5QlAsRUFBT08sUUFDVkQsRUFBUUUsUUFBVVIsRUFBT08sTUFBTUUsS0FBS1QsSUFHckNNLEVBQVFJLFFBQVVWLEVBQU9VLFFBQ3pCSixFQUFRSyxRQUFVWCxFQUFPVyxRQUN6QkwsRUFBUU0sU0FBV1osRUFBT1ksVSx1NEZDckJwQkwsTUFBUU0sb0JBQVEsSUFDbEJDLFdBQWFELG9CQUFRLElBRW5CRSxPLDhGQVlKLGdCQUFhQyxHQUFPLGlGQUNsQixtQkFBTUEsSUFEWSxlQVZOLFdBQ1osT0FBTyxJQUFJQyxTQUFRLFNBQUNDLEVBQVNDLEdBQzNCWixNQUFNLEVBQUthLE1BQU1DLFVBQ2RDLE1BQUssU0FBQUMsR0FDSkwsRUFBUUssRUFBRUMsV0FGZCxPQUlTLFNBQUFDLEdBQUMsT0FBSU4sRUFBT00sWUFJTCx1REFpQ1IsV0FDVixFQUFLQyxjQUFjSixNQUFLLFNBQUFDLEdBQ3RCLEVBQUtJLFNBQVMsQ0FBRUMsYUFBY0wsVUFuQ2Qsb0VBdUNLLFdBQ3ZCLEVBQUtJLFNBQVMsQ0FBRUUsTUFBTzNCLE9BQU80QixhQUM5QixFQUFLSCxTQUFTLENBQUVFLE1BQU8zQixPQUFPNkIsY0FDOUIsSUFBTUMsRUFBYSxFQUFLQyxZQUFZQyxhQUNwQyxFQUFLUCxTQUFTLENBQUVLLGtCQTNDRSwyREE4Q0osU0FBQ0csR0FDZkEsRUFBTUMsaUJBQ043QixNQUFNLEVBQUthLE1BQU1DLFNBQVcsWUFBYyxFQUFLRCxNQUFNaUIsWUFBWWYsS0FBSyxFQUFLSyxTQUFTLENBQUVVLFdBQVksTUFDbEcsRUFBS0MsZUFqRGEsMkRBb0RKLFNBQUNDLEdBQ1hDLFFBQVEsc0VBQ1ZqQyxNQUFNLEVBQUthLE1BQU1DLFNBQVcsV0FBYWtCLEVBQWNFLFlBRXpELEVBQUtILGVBeERhLG9EQTJEWCxXQUNQLE9BQ0Usc0VBQ0Usa0VBQUtJLE1BQU8sQ0FBRSxlQUFrQixjQUFlLGdCQUFtQixVQUFXLE9BQVUsRUFBS3RCLE1BQU11QixPQUFRLFlBQWUsU0FDdkgsdUZBQ0EsMkxBQ0Esc0VBQ0Esa0VBQUtELE1BQU8sQ0FBRSxVQUFhLFNBQVUsT0FBVSxFQUFLdEIsTUFBTXVCLE9BQVMsRUFBS3ZCLE1BQU1ZLFdBQWEsS0FDekYscUVBQ0csRUFBS1osTUFBTVEsYUFBYWdCLEtBQUksU0FBQ0MsRUFBTUMsR0FBUCxPQUMzQixpRUFBSUMsSUFBS0QsRUFBT0osTUFBTyxDQUFFLFFBQVcsUUFDbEMscUVBQVFNLFFBQVMsa0JBQU0sRUFBS0MsY0FBY0gsSUFBUUosTUFBTyxDQUFFLE1BQVMsT0FBUSxnQkFBbUIsVUFBVyxRQUFXLE9BQVEsT0FBVSxPQUFRLFVBQWEsU0FDMUosZ0VBQUdBLE1BQU8sQ0FBRSxXQUFjLFVBQVcsV0FBYyxTQUFVLFNBQVksTUFBTyxNQUFTLFVBQVcsY0FBaUIsTUFBTyxPQUFVLFVBQVlHLEVBQUtLLE1BQ3ZKLGdFQUFHUixNQUFPLENBQUUsV0FBYyxVQUFXLFdBQWMsU0FBVSxTQUFZLE1BQU8sTUFBUyxVQUFXLFdBQWMsTUFBTyxPQUFVLFVBQVlHLEVBQUtNLGdCQU05SixzRUFDQSxrRUFBS0MsVUFBVSxPQUFPQyxJQUFLLFNBQUNDLEdBQWlCLEVBQUtyQixZQUFjcUIsSUFDOUQsMkRBQUMsdURBQUQsQ0FBTUMsU0FBVSxFQUFLQyxjQUFlZCxNQUFPLENBQUUsYUFBZ0IsU0FBVSxNQUFTLE9BQVEsY0FBaUIsTUFBTyxjQUFpQixTQUFVLE9BQVUsTUFDbkosaUVBQUlBLE1BQU8sQ0FBRSxNQUFTLE9BQVEsUUFBVyxnQkFDdkMsMkRBQUMsdURBQUQsQ0FDRWUsR0FBRyxjQUNIQyxZQUFZLFVBQ1poQixNQUFPLENBQUUsV0FBYyxVQUFXLFdBQWMsU0FBVSxTQUFZLFNBQ3RFaUIsU0FBVSxTQUFBQyxHQUFHLE9BQUksRUFBS0MsaUJBQWlCRCxJQUN2Q0UsTUFBTyxFQUFLMUMsTUFBTWlCLGFBRXBCLDJEQUFDLHVEQUFELENBQ0VLLE1BQU8sQ0FBRSxnQkFBbUIsVUFBVyxTQUFZLFNBQ25EcUIsYUFBVyxFQUNYQyxXQUFZQyxvREFDWkMsaUJBQWlCLFNBQ2pCQyxnQkFBZ0IsU0FDaEJDLGdCQUFnQixlQUNoQkMsS0FBSyxRQUNMQyxLQUFLLG1CQS9GbkIsRUFBS2xELE1BQVEsQ0FDWFEsYUFBYyxHQUNkMkMsYUFBYyxFQUNkdkMsV0FBWSxFQUNaSCxNQUFPM0IsT0FBTzRCLFdBQ2RhLE9BQVF6QyxPQUFPNkIsWUFDZk0sV0FBWSxHQUNaaEIsU0FBVUwsRUFBTUssVUFUQSxFLHNFQWNsQm1ELEtBQUtsQyxZQUNMa0MsS0FBS0MsTUFBUUMsWUFBWUYsS0FBS2xDLFVBQVcsS0FDekNrQyxLQUFLQyxNQUFRQyxZQUFZRixLQUFLRyxVQUFXLElBQ3pDekUsT0FBTzBFLGlCQUFpQixTQUFVSixLQUFLSyx3QkFDdkMsSUFBTTdDLEVBQWF3QyxLQUFLdkMsWUFBWUMsYUFDcENzQyxLQUFLN0MsU0FBUyxDQUFFSyxpQix1Q0FHQTRCLEdBQ2hCWSxLQUFLN0MsU0FBUyxDQUNaVSxXQUFZdUIsRUFBSWtCLE9BQU9oQixVLDZDQUt6QmlCLGNBQWNQLEtBQUtDLE9BQ25CdkUsT0FBTzhFLG9CQUFvQixTQUFVUixLQUFLSywwQixtSUExQ3pCSSw2Q0FBTUMsVyxTQXlIWm5FLE8sMkJBQUEscUMscUlBekhUQSxPIiwiZmlsZSI6IjUuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8vIHJlZjogaHR0cHM6Ly9naXRodWIuY29tL3RjMzkvcHJvcG9zYWwtZ2xvYmFsXG52YXIgZ2V0R2xvYmFsID0gZnVuY3Rpb24gKCkge1xuXHQvLyB0aGUgb25seSByZWxpYWJsZSBtZWFucyB0byBnZXQgdGhlIGdsb2JhbCBvYmplY3QgaXNcblx0Ly8gYEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKClgXG5cdC8vIEhvd2V2ZXIsIHRoaXMgY2F1c2VzIENTUCB2aW9sYXRpb25zIGluIENocm9tZSBhcHBzLlxuXHRpZiAodHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnKSB7IHJldHVybiBzZWxmOyB9XG5cdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gd2luZG93OyB9XG5cdGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykgeyByZXR1cm4gZ2xvYmFsOyB9XG5cdHRocm93IG5ldyBFcnJvcigndW5hYmxlIHRvIGxvY2F0ZSBnbG9iYWwgb2JqZWN0Jyk7XG59XG5cbnZhciBnbG9iYWwgPSBnZXRHbG9iYWwoKTtcblxubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gZ2xvYmFsLmZldGNoO1xuXG4vLyBOZWVkZWQgZm9yIFR5cGVTY3JpcHQgYW5kIFdlYnBhY2suXG5pZiAoZ2xvYmFsLmZldGNoKSB7XG5cdGV4cG9ydHMuZGVmYXVsdCA9IGdsb2JhbC5mZXRjaC5iaW5kKGdsb2JhbCk7XG59XG5cbmV4cG9ydHMuSGVhZGVycyA9IGdsb2JhbC5IZWFkZXJzO1xuZXhwb3J0cy5SZXF1ZXN0ID0gZ2xvYmFsLlJlcXVlc3Q7XG5leHBvcnRzLlJlc3BvbnNlID0gZ2xvYmFsLlJlc3BvbnNlOyIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcbmltcG9ydCB7IFRleHRJbnB1dCwgQnV0dG9uLCBGb3JtIH0gZnJvbSAnY2FyYm9uLWNvbXBvbmVudHMtcmVhY3QnXG5pbXBvcnQgeyBTZW5kMzIgfSBmcm9tICdAY2FyYm9uL2ljb25zLXJlYWN0J1xuY29uc3QgZmV0Y2ggPSByZXF1aXJlKCdub2RlLWZldGNoJylcbnZhciBTY3JvbGxBcmVhID0gcmVxdWlyZSgncmVhY3Qtc2Nyb2xsYmFyJyk7XG5cbmNsYXNzIFBsYXllciBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG5cbiAgZ2V0bWVzc2FnZXMgPSAoKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGZldGNoKHRoaXMuc3RhdGUuY2hhdExpbmspXG4gICAgICAgIC50aGVuKHIgPT4ge1xuICAgICAgICAgIHJlc29sdmUoci5qc29uKCkpXG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IHJlamVjdChlKSlcbiAgICB9KVxuICB9XG5cbiAgY29uc3RydWN0b3IgKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpXG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIG1lc3NhZ2VzTGlzdDogW10sXG4gICAgICBwbGF5ZXJIZWlnaHQ6IDAsXG4gICAgICBmb3JtSGVpZ2h0OiAwLFxuICAgICAgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoLFxuICAgICAgaGVpZ2h0OiB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICBpbnB1dFZhbHVlOiBcIlwiLFxuICAgICAgY2hhdExpbms6IHByb3BzLmNoYXRMaW5rXG4gICAgfVxuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgKCkge1xuICAgIHRoaXMuZmV0Y2hEYXRhKClcbiAgICB0aGlzLnRpbWVyID0gc2V0SW50ZXJ2YWwodGhpcy5mZXRjaERhdGEsIDIwMDApXG4gICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKHRoaXMudXBkYXRlQ1NTLCAyMClcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVXaW5kb3dTaXplQ2hhbmdlKVxuICAgIGNvbnN0IGZvcm1IZWlnaHQgPSB0aGlzLmZvcm1FbGVtZW50LmNsaWVudEhlaWdodFxuICAgIHRoaXMuc2V0U3RhdGUoeyBmb3JtSGVpZ2h0IH0pXG4gIH1cblxuICB1cGRhdGVJbnB1dFZhbHVlIChldnQpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGlucHV0VmFsdWU6IGV2dC50YXJnZXQudmFsdWVcbiAgICB9KVxuICB9XG5cbiAgY29tcG9uZW50V2lsbFVubW91bnQgKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7XG4gICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Jlc2l6ZScsIHRoaXMuaGFuZGxlV2luZG93U2l6ZUNoYW5nZSlcbiAgfVxuXG4gIGZldGNoRGF0YSA9ICgpID0+IHtcbiAgICB0aGlzLmdldG1lc3NhZ2VzKCkudGhlbihyID0+IHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBtZXNzYWdlc0xpc3Q6IHIgfSlcbiAgICB9KVxuICB9XG5cbiAgaGFuZGxlV2luZG93U2l6ZUNoYW5nZSA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgd2lkdGg6IHdpbmRvdy5pbm5lcldpZHRoIH0pXG4gICAgdGhpcy5zZXRTdGF0ZSh7IHdpZHRoOiB3aW5kb3cuaW5uZXJIZWlnaHQgfSlcbiAgICBjb25zdCBmb3JtSGVpZ2h0ID0gdGhpcy5mb3JtRWxlbWVudC5jbGllbnRIZWlnaHRcbiAgICB0aGlzLnNldFN0YXRlKHsgZm9ybUhlaWdodCB9KVxuICB9O1xuXG4gIHN1Ym1pdE1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpXG4gICAgZmV0Y2godGhpcy5zdGF0ZS5jaGF0TGluayArICc/bWVzc2FnZT0nICsgdGhpcy5zdGF0ZS5pbnB1dFZhbHVlKS50aGVuKHRoaXMuc2V0U3RhdGUoeyBpbnB1dFZhbHVlOiBcIlwiIH0pKVxuICAgIHRoaXMuZmV0Y2hEYXRhKClcbiAgfVxuXG4gIGRlbGV0ZU1lc3NhZ2UgPSAobWVzc2FnZU51bWJlcikgPT4ge1xuICAgIGlmIChjb25maXJtKFwiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIG1lc3NhZ2U/IEl0IGNhbm5vdCBiZSB1bmRvbmVcIikpIHtcbiAgICAgIGZldGNoKHRoaXMuc3RhdGUuY2hhdExpbmsgKyAnP2RlbGV0ZT0nICsgbWVzc2FnZU51bWJlci50b1N0cmluZygpKVxuICAgIH1cbiAgICB0aGlzLmZldGNoRGF0YSgpXG4gIH1cblxuICByZW5kZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgXCJiYWNrZ3JvdW5kQ2xpcFwiOiBcInBhZGRpbmctYm94XCIsIFwiYmFja2dyb3VuZENvbG9yXCI6IFwiI0ZGRkZGRlwiLCBcImhlaWdodFwiOiB0aGlzLnN0YXRlLmhlaWdodCwgXCJwYWRkaW5nTGVmdFwiOiBcIjIwcHhcIiB9fT5cbiAgICAgICAgICA8aDE+Q2hhdCBkYXNoYm9hcmQ8L2gxPlxuICAgICAgICAgIDxoNT5TZW5kIG1lc3NhZ2VzIGF0IHRoZSBib3R0b20gb2YgdGhlIHBhZ2UsIHRvIGRlbGV0ZSBhIG1lc3NhZ2UsIGNsaWNrIG9uIGFueSBtZXNzYWdlIGFuZCBpdCB3aWxsIGRlbGV0ZSB0aGUgbWVzc2FnZS48L2g1PlxuICAgICAgICAgIDxici8+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyAnb3ZlcmZsb3dZJzogJ3Njcm9sbCcsIFwiaGVpZ2h0XCI6IHRoaXMuc3RhdGUuaGVpZ2h0IC0gdGhpcy5zdGF0ZS5mb3JtSGVpZ2h0IC0gNTAgfX0+XG4gICAgICAgICAgICA8dWw+XG4gICAgICAgICAgICAgIHt0aGlzLnN0YXRlLm1lc3NhZ2VzTGlzdC5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXG4gICAgICAgICAgICAgICAgPGxpIGtleT17aW5kZXh9IHN0eWxlPXt7ICdwYWRkaW5nJzogJzVweCcgfX0+XG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9eygpID0+IHRoaXMuZGVsZXRlTWVzc2FnZShpbmRleCl9IHN0eWxlPXt7IFwid2lkdGhcIjogXCIxMDAlXCIsIFwiYmFja2dyb3VuZENvbG9yXCI6IFwiI2Y0ZjRmNFwiLCBcInBhZGRpbmdcIjogXCIxMHB4XCIsIFwiYm9yZGVyXCI6IFwibm9uZVwiLCBcIlRleHRBbGlnblwiOiBcImxlZnRcIn19PlxuICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT17eyAnZm9udEZhbWlseSc6ICdDYW5kYXJhJywgJ2ZvbnRXZWlnaHQnOiAnbm9ybWFsJywgJ2ZvbnRTaXplJzogJzF2dycsICdjb2xvcic6ICcjODA4MDgwJywgJ3BhZGRpbmdCb3R0b20nOiAnMHB4JywgJ2hlaWdodCc6ICcxLjV2dycgfX0+e2l0ZW0uZGF0ZX08L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPXt7ICdmb250RmFtaWx5JzogJ0NhbmRhcmEnLCAnZm9udFdlaWdodCc6ICdub3JtYWwnLCAnZm9udFNpemUnOiAnMXZ3JywgJ2NvbG9yJzogJyMwMDAwMDAnLCAncGFkZGluZ1RvcCc6ICcwcHgnLCAnaGVpZ2h0JzogJzEuNXZ3JyB9fT57aXRlbS5jb250ZW50fTwvcD5cbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8YnIgLz5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRlc3RcIiByZWY9eyhkaXZFbGVtZW50KSA9PiB7IHRoaXMuZm9ybUVsZW1lbnQgPSBkaXZFbGVtZW50IH19PlxuICAgICAgICAgICAgPEZvcm0gb25TdWJtaXQ9e3RoaXMuc3VibWl0TWVzc2FnZX0gc3R5bGU9e3sgJ2FsaWduQ29udGVudCc6ICdjZW50ZXInLCAnd2lkdGgnOiAnMTAwJScsICdwYWRkaW5nQm90dG9tJzogJzBweCcsIFwidmVydGljYWxBbGlnblwiOiBcImJvdHRvbVwiLCAnaGVpZ2h0JzogJzAnIH19PlxuICAgICAgICAgICAgICA8dGQgc3R5bGU9e3sgXCJ3aWR0aFwiOiBcIjEwMCVcIiwgJ2Rpc3BsYXknOiAnaW5saW5lLWZsZXgnIH19PlxuICAgICAgICAgICAgICAgIDxUZXh0SW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPVwiTWVzc2FnZV9Cb3hcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJNZXNzYWdlXCJcbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7ICdmb250RmFtaWx5JzogJ0NhbmRhcmEnLCAnZm9udFdlaWdodCc6ICdub3JtYWwnLCAnZm9udFNpemUnOiAnMS41dncnIH19XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17ZXZ0ID0+IHRoaXMudXBkYXRlSW5wdXRWYWx1ZShldnQpfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuc3RhdGUuaW5wdXRWYWx1ZX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICAgIHN0eWxlPXt7ICdiYWNrZ3JvdW5kQ29sb3InOiAnIzAwNWViOCcsICdmb250U2l6ZSc6ICcxLjV2dycgfX1cbiAgICAgICAgICAgICAgICAgIGhhc0ljb25Pbmx5XG4gICAgICAgICAgICAgICAgICByZW5kZXJJY29uPXtTZW5kMzJ9XG4gICAgICAgICAgICAgICAgICB0b29sdGlwQWxpZ25tZW50PVwiY2VudGVyXCJcbiAgICAgICAgICAgICAgICAgIHRvb2x0aXBQb3NpdGlvbj1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICBpY29uRGVzY3JpcHRpb249XCJTZW5kIE1lc3NhZ2VcIlxuICAgICAgICAgICAgICAgICAgc2l6ZT0nZmllbGQnXG4gICAgICAgICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPC9Gb3JtPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IFBsYXllciJdLCJzb3VyY2VSb290IjoiIn0=